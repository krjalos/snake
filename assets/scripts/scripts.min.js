!function(e){var t={};function i(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i(i.s=0)}([function(e,t,i){i(1),e.exports=i(2)},function(e,t,i){"use strict";function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function o(e,t){var i=t.get(e);if(!i)throw new TypeError("attempted to get private field on non-instance");return i.get?i.get.call(e):i.value}i.r(t);var c=new WeakMap,r=new WeakMap,s=new WeakMap,l=new WeakMap,u=new WeakMap,d=new WeakMap,f=new WeakMap,p=new WeakMap,h=new WeakMap,g=new WeakMap,m=new WeakMap,v=new WeakMap,b=new WeakMap,w=new WeakMap,y=new WeakMap,M=new WeakMap,S=new WeakMap,P=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c.set(this,{writable:!0,value:{speed:8,speedMultiplicator:1.1,fieldWidth:50,fieldHeight:50,length:10,sectionSize:10,gameElement:document.querySelector(".snake-wrapper .game"),scoreElement:document.querySelector(".snake-wrapper .score"),testSpeed:0,turns:0}}),r.set(this,{writable:!0,value:{occupies:[],directionCoordinates:{"-2":[0,-1],2:[0,1],"-1":[-1,0],1:[1,0]},direction:"-2",lastDirection:"-2",gameInited:!1,gameInProgress:!1,score:0,field:{},foodPosition:!1,lastPlace:[-1,-1]}}),a(this,"init",(function(e){e&&o(t,S).call(t,o(t,c),e),o(t,c).speed=Math.max(parseInt(o(t,c).speed),0),o(t,c).speedMultiplicator=Math.max(Number(o(t,c).speedMultiplicator),0),o(t,c).sectionSize=Math.max(Number(o(t,c).sectionSize),1),o(t,c).fieldWidth=Math.max(Math.max(parseInt(o(t,c).fieldWidth),0),10),o(t,c).fieldHeight=Math.max(Math.max(parseInt(o(t,c).fieldHeight),0),10),o(t,c).length=Math.min(o(t,c).fieldHeight-1,Math.max(parseInt(o(t,c).length),0)),o(t,r).gameInited||(o(t,l).call(t),o(t,r).canvas=document.createElement("canvas"),o(t,r).canvasContext=o(t,r).canvas.getContext("2d"),o(t,c).gameElement.appendChild(o(t,r).canvas),o(t,r).gameInited=!0),o(t,r).canvas.width=o(t,c).fieldWidth*o(t,c).sectionSize,o(t,r).canvas.height=o(t,c).fieldHeight*o(t,c).sectionSize,o(t,s).call(t)})),s.set(this,{writable:!0,value:function(){o(t,p).call(t),o(t,S).call(t,o(t,r),o(t,c)),o(t,r).testSpeed=0,o(t,r).turns=0,o(t,r).score=0,o(t,r).occupies=[],o(t,r).direction="-2",o(t,r).lastDirection="-2",o(t,r).foodPosition=!1,o(t,r).sectionSize=o(t,c).sectionSize,o(t,r).lastPlace=[-1,-1],o(t,r).field=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach((function(t){a(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},Array(o(t,r).fieldWidth*o(t,r).fieldHeight).fill(!0));for(var e=Math.round(o(t,r).fieldWidth/2-1),i=Math.round((o(t,r).fieldHeight-o(t,r).length)/2-1),s=0;s<o(t,r).length;s++)delete o(t,r).field[i*o(t,r).fieldWidth+e],o(t,r).occupies.push([e,i++]);o(t,g).call(t),o(t,M).call(t,!0),o(t,r).gameInProgress=!1}}),l.set(this,{writable:!0,value:function(){document.addEventListener("keydown",o(t,d))}}),u.set(this,{writable:!0,value:function(){document.removeEventListener("keydown",o(t,d))}}),d.set(this,{writable:!0,value:function(e){switch(e.key){case"ArrowDown":o(t,f).call(t,"2");break;case"ArrowUp":o(t,f).call(t,"-2");break;case"ArrowLeft":o(t,f).call(t,"-1");break;case"ArrowRight":o(t,f).call(t,"1")}}}),f.set(this,{writable:!0,value:function(e){parseInt(e)+parseInt(o(t,r).lastDirection)!==0&&(o(t,r).direction=e),!0===o(t,r).gameInited&&!1===o(t,r).gameInProgress&&o(t,h).call(t)}}),p.set(this,{writable:!0,value:function(){clearTimeout(o(t,r).timeout)}}),h.set(this,{writable:!0,value:function(){o(t,r).gameInProgress=!0,o(t,c).scoreElement.innerHTML="0",o(t,m).call(t)}}),g.set(this,{writable:!0,value:function(){var e=Object.keys(o(t,r).field);if(0===e.length)return o(t,y).call(t),!1;var i=e[Math.round((e.length-1)*Math.random())];return o(t,r).foodPosition=[i%o(t,r).fieldWidth,Math.floor(i/o(t,r).fieldWidth)],!0}}),m.set(this,{writable:!0,value:function(){o(t,v).call(t),o(t,M).call(t,!1)}}),v.set(this,{writable:!0,value:function(){o(t,r).lastDirection=o(t,r).direction;var e=[o(t,r).occupies[0][0]+o(t,r).directionCoordinates[o(t,r).direction][0],o(t,r).occupies[0][1]+o(t,r).directionCoordinates[o(t,r).direction][1]];if(delete o(t,r).field[e[1]*o(t,r).fieldWidth+e[0]],o(t,r).occupies.unshift(e),o(t,r).foodPosition[0]===e[0]&&o(t,r).foodPosition[1]===e[1]){if(!o(t,g).call(t))return!1;o(t,r).speed=o(t,r).speed*o(t,r).speedMultiplicator,o(t,c).scoreElement.innerHTML=++o(t,r).score}else o(t,r).lastPlace[0]=o(t,r).occupies[o(t,r).occupies.length-1][0],o(t,r).lastPlace[1]=o(t,r).occupies[o(t,r).occupies.length-1][1],o(t,r).field[o(t,r).lastPlace[1]*o(t,r).fieldWidth+o(t,r).lastPlace[0]]=!0,o(t,r).occupies.pop();if(!o(t,b).call(t)){var i=1e3/o(t,r).speed;o(t,r).timeout=setTimeout(function(){o(this,m).call(this)}.bind(t),i)}}}),b.set(this,{writable:!0,value:function(){var e=!1;(o(t,r).occupies[0][0]<0||o(t,r).occupies[0][1]<0||o(t,r).occupies[0][0]>o(t,r).fieldWidth-1||o(t,r).occupies[0][1]>o(t,r).fieldHeight-1)&&(e=!0);for(var i=1;i<o(t,r).occupies.length;i++)o(t,r).occupies[i][0]===o(t,r).occupies[0][0]&&o(t,r).occupies[i][1]===o(t,r).occupies[0][1]&&(e=!0);return e&&o(t,w).call(t),e}}),w.set(this,{writable:!0,value:function(){o(t,s).call(t),o(t,c).scoreElement.innerHTML="Sorry, your snake is in another castle. Score is "+o(t,r).score+" though.<br>Press any arrow to start a new snake"}}),y.set(this,{writable:!0,value:function(){o(t,s).call(t),o(t,c).scoreElement.innerHTML="Incredible victory score of "+o(t,r).score+".<br>You could try changing size and speed though. Press any arrow for a new game"}}),M.set(this,{writable:!0,value:function(e){!0===e&&(o(t,r).canvasContext.clearRect(0,0,o(t,r).canvas.width,o(t,r).canvas.height),o(t,r).occupies.forEach((function(e){return o(t,r).canvasContext.fillRect(e[0]*o(t,r).sectionSize,e[1]*o(t,r).sectionSize,o(t,r).sectionSize,o(t,r).sectionSize)}))),o(t,r).canvasContext.clearRect(o(t,r).lastPlace[0]*o(t,r).sectionSize,o(t,r).lastPlace[1]*o(t,r).sectionSize,o(t,r).sectionSize,o(t,r).sectionSize),o(t,r).canvasContext.fillRect(o(t,r).foodPosition[0]*o(t,r).sectionSize,o(t,r).foodPosition[1]*o(t,r).sectionSize,o(t,r).sectionSize,o(t,r).sectionSize),o(t,r).canvasContext.fillRect(o(t,r).occupies[0][0]*o(t,r).sectionSize,o(t,r).occupies[0][1]*o(t,r).sectionSize,o(t,r).sectionSize,o(t,r).sectionSize)}}),S.set(this,{writable:!0,value:function(e,t){if(null!=t&&t instanceof Object)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}})},k={},W=function(){k.fieldWidth=document.getElementsByClassName("debug-width")[0].value,k.fieldHeight=document.getElementsByClassName("debug-height")[0].value,k.length=document.getElementsByClassName("debug-length")[0].value,k.speed=document.getElementsByClassName("debug-speed")[0].value,k.speedMultiplicator=document.getElementsByClassName("debug-multiplicator")[0].value,k.sectionSize=document.getElementsByClassName("debug-section")[0].value};W(),P.init(k),document.getElementsByClassName("reset-game")[0].addEventListener("click",(function(){W(),P.init(k)}))},function(e,t){}]);